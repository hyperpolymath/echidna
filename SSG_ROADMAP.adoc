// SPDX-License-Identifier: PMPL-1.0-or-later
// SPDX-FileCopyrightText: 2024-2025 ECHIDNA Project Contributors

= SSG Integration Roadmap
:toc:

== Overview

ECHIDNA's neurosymbolic verification capabilities extend naturally to static site generation, enabling formally verified content pipelines. This roadmap outlines three integration paths currently in development.

== Active Development Tracks

=== Track 1: `echidna-docs` â€” Proof Content SSG

*Status*: ğŸŸ¢ Active Development

A static site generator that understands formal proof content from 12 theorem prover systems.

[cols="1,1,1"]
|===
|Component |Status |Location

|Prover backend traits
|âœ… Complete
|`src/echidna_provers.rs`

|Agda parser integration
|âœ… Complete
|`src/prover/agda.rs`

|Aspect tagging system
|âœ… Complete
|`src/aspect/`

|HTML proof renderer
|ğŸ”¨ In Progress
|`src/echidna_docs/render.rs`

|Dependency graph generator
|ğŸ”¨ In Progress
|`src/echidna_docs/graph.rs`

|CLI interface
|ğŸ“‹ Planned
|`src/bin/echidna-docs.rs`
|===

*Unique Capabilities*:

* Semantic syntax highlighting (type-aware, not regex)
* Cross-prover theorem linking
* Aspect-tagged navigation
* Proof dependency visualisation

=== Track 2: `echidna-verify` â€” Property Oracle MCP

*Status*: ğŸŸ¡ Architecture Complete

MCP server for verifying semantic properties of SSG implementations across the polyglot-ssg ecosystem.

[cols="1,1,1"]
|===
|Component |Status |Location

|MCP tool definitions
|âœ… Complete
|`src/echidna_verify/lib.rs`

|Z3 backend integration
|âœ… Complete
|`src/solver/z3.rs`

|CVC5 backend integration
|âœ… Complete
|`src/solver/cvc5.rs`

|Property encoders
|ğŸ”¨ In Progress
|`src/echidna_verify/properties/`

|Counterexample minimiser
|ğŸ“‹ Planned
|`src/echidna_verify/minimize.rs`

|Fuzzing harness
|ğŸ“‹ Planned
|`src/echidna_verify/fuzz.rs`
|===

*MCP Tools*:

* `verify_ssg_property` â€” Check semantic properties hold
* `compare_implementations` â€” Verify equivalence across languages
* `generate_counterexample` â€” Find inputs that distinguish implementations

=== Track 3: `libechidna-ssg` â€” Verified Core Library

*Status*: ğŸ”µ Specification Phase

Formally verified SSG core with proofs extracted to a shared native library.

[cols="1,1,1"]
|===
|Component |Status |Location

|Agda AST specification
|ğŸ”¨ In Progress
|`proofs/agda/SSG/Specification.agda`

|Idempotence proofs
|ğŸ“‹ Planned
|`proofs/agda/SSG/Idempotence.agda`

|Well-formedness proofs
|ğŸ“‹ Planned
|`proofs/agda/SSG/WellFormed.agda`

|Lean template formalisation
|ğŸ“‹ Planned
|`proofs/lean/SSG/`

|Extraction pipeline
|ğŸ“‹ Planned
|`extraction/`

|Rust FFI wrapper
|ğŸ“‹ Planned
|`src/libechidna_ssg/`
|===

*Formal Properties Under Development*:

1. **Rendering Idempotence**: `render(render(x)) = render(x)`
2. **Structure Preservation**: Heading counts preserved across transformation
3. **HTML Well-formedness**: Output always valid HTML5
4. **Template Safety**: No script injection through variables
5. **Determinism**: Same input always produces same output

== Timeline

[cols="1,2,1"]
|===
|Phase |Deliverables |Target

|*Q1 2025*
|`echidna-docs` MVP with Agda/Lean/Coq support
|âœ… On Track

|*Q2 2025*
|`echidna-verify` MCP server beta
|ğŸŸ¡ Scheduled

|*Q3 2025*
|Formal specifications complete, proof sketches
|ğŸ”µ Scheduled

|*Q4 2025*
|`libechidna-ssg` extraction pipeline prototype
|ğŸ”µ Scheduled

|*2026*
|Production `libechidna-ssg` with polyglot bindings
|ğŸ“‹ Roadmap
|===

== Integration with polyglot-ssg-mcp

ECHIDNA serves as the verification layer for the polyglot-ssg-mcp project:

[source]
----
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              polyglot-ssg-mcp                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ Forth   â”‚  â”‚ Ada     â”‚  â”‚ Haskell â”‚  ...       â”‚
â”‚  â”‚ SSG     â”‚  â”‚ SSG     â”‚  â”‚ SSG     â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â”‚
â”‚       â”‚            â”‚            â”‚                  â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                    â”‚                               â”‚
â”‚                    â–¼                               â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚       â”‚   echidna-verify MCP   â”‚ â—„â”€â”€ Verification â”‚
â”‚       â”‚   Property Oracle      â”‚     Layer        â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
----

== Contributing

We particularly welcome contributions in:

* **Formal verification**: Agda, Lean, Coq, Isabelle proofs
* **SSG implementation**: Rust, proof rendering
* **MCP tooling**: Protocol handling, solver integration
* **Test corpus**: Diverse markdown/proof content for testing

See link:../CONTRIBUTING.md[CONTRIBUTING.md] for guidelines.

== References

* link:docs/SSG_INTEGRATION.adoc[Full SSG Integration Architecture]
* link:src/echidna_docs/lib.rs[echidna-docs source]
* link:src/echidna_verify/lib.rs[echidna-verify source]
* link:proofs/agda/SSG/Specification.agda[Agda specification]
